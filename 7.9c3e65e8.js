webpackJsonp([7],{"55899badaef27c97d549":function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var d=a("c5a1a13287d8ad4f043e"),n=l(d),s=a("3f8a5f50ea63e42bae39"),f=l(s),u=a("e3812a5bd03d8b46e6ce"),c=l(u),i=a("2d992fe19e3366652040"),r=l(i),o=a("aff7e8dcc6a4bd162daa"),m=l(o),b=a("edf9ead513b39914e52e"),h=l(b),p=a("0c665a315c033eeedd00"),y=l(p),v=a("424a28e84bfcbae33585"),g=l(v),k=a("e0790b6fd5e6e60f472d"),E=l(k),O=a("2b7e55a3b6d12b431ecb"),D=l(O),S=a("f3b07a043f19e27a6aca"),C=l(S);a("1c3040e0ca639c4ad94e"),a("08533390d182b3212ad6"),a("6c5d583c40f088742b62"),a("4911b9603972fc5ce1f0"),a("4113ac831dd3f5f44ba8"),a("439526c51b45c0b0bc70"),a("f7fc5a2ae2c7b39e07b3");var w=a("07eff9bc9275f0f3737f"),I=l(w),N=a("bd28e01430e7577fbcc2"),_=(l(N),a("e88b2eca4f4175f73a36")),R=l(_),P=a("63b0817baede16f2bced"),x=l(P),M=a("68dd8c1315cbe355402d"),Y=l(M),T=a("7dd1b03a4de8e4d04d19"),H=l(T),W=x.default.preWeek(),j=x.default.nowYmd(),K=function(e){function t(e){(0,g.default)(this,t);var a=(0,D.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.loadData=function(){var e=a;a.setState({loading:!0}),(0,R.default)({url:"/logout",type:"get",dataType:"json",data:{}}).then(function(t){e.setState({loading:!1}),200!==t.state&&y.default.error(t.msg)}).catch(function(t){e.setState({loading:!1}),y.default.error(t.statusText)})},a.search=function(){a.loadData()},a.reset=function(){a.setState({userId:"",userName:"",releaseDate:[W+" 00:00:00",j+" 23:59:59"],dataSource:[]}),setTimeout(function(){a.loadData()},200)},a.add=function(){a.setState({visible:!0})},a.callbackPass=function(e){a.setState({visible:!1}),e&&a.loadData(a.state.pageNo)},a.tableRowClick=function(e,t){a.setState({selectedRowKeys:[e.key]})},a.state={visible:!1,loading:!1,releaseDate:[W+" 00:00:00",j+" 23:59:59"],selectedRowKeys:[],selectedRows:[],pagination:{defaultCurrent:1,defaultPageSize:8,showQuickJumper:!0,pageSize:10,onChange:function(e){this.loadData(e,this.state.sorderData)}.bind(a),showTotal:function(e){return"共"+e+"条数据"}},dataSource:[{userId:"1",key:"213",userName:"张三",body:"世界那么大,我想去看看。世界那么大,我想去看看",de:"湖北电子科技有限公司",time:"2019-10-10 20:00:00",type:"请假"},{userId:"2",key:"214",userName:"李四",time:"2019-10-10 19:00:00",type:"调休"}],columns:[{title:"员工编号",dataIndex:"userId",key:"userId"},{title:"员工姓名",dataIndex:"userName",key:"userName"},{title:"所属部门",dataIndex:"de",key:"de"},{title:"类型",dataIndex:"type",key:"type"},{title:"时间",dataIndex:"time",key:"time"},{title:"事由",dataIndex:"body",key:"body",render:function(e){return e&&e.length>14?I.default.createElement(h.default,{title:e},I.default.createElement("span",null,e.substr(0,10),"...")):e}}]},a}return(0,C.default)(t,e),(0,E.default)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this,t={selectedRowKeys:this.state.selectedRowKeys,onChange:function(t,a){a.length==e.state.pagination.pageSize&&(t=[]),e.setState({selectedRows:a.slice(-1),selectedRowKeys:t.slice(-1)})}},a=this.state.columns||[],l=m.default.RangePicker;return I.default.createElement(n.default,{tip:"数据加载中,请稍候...",spinning:this.state.loading},I.default.createElement("div",{className:"pageWrap"},I.default.createElement("div",{className:"isWindow"},I.default.createElement("div",{className:"seachTable"},I.default.createElement("div",{className:"user-search"},I.default.createElement(r.default,{placeholder:"姓名",className:"inputWin",value:this.state.userName,onChange:function(t){e.setState({userName:t.target.value})}}),I.default.createElement(r.default,{placeholder:"编号",className:"inputWin",value:this.state.userId,onChange:function(t){e.setState({userId:t.target.value})}}),I.default.createElement(l,{ranges:{"今日":[(0,Y.default)().startOf("day"),(0,Y.default)().endOf("day")],"最近一周":[(0,Y.default)().subtract(6,"days").startOf("day"),(0,Y.default)().endOf("day")],"本月":[(0,Y.default)().startOf("month"),(0,Y.default)().endOf("month")],"上月":[(0,Y.default)().subtract(1,"month").startOf("month"),(0,Y.default)().subtract(1,"month").endOf("month")],"最近一月":[(0,Y.default)().subtract(1,"month").startOf("day"),(0,Y.default)().endOf("day")]},showTime:{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",placeholder:["开始时间","结束时间"],value:[this.state.releaseDate[0]?(0,Y.default)(this.state.releaseDate[0]):null,this.state.releaseDate[1]?(0,Y.default)(this.state.releaseDate[1]):null],onChange:function(t,a){e.setState({releaseDate:a})}}),I.default.createElement(c.default,{type:"primary",onClick:this.search},"搜索"),I.default.createElement(c.default,{type:"default",onClick:this.reset},"重置"),I.default.createElement("div",{className:"searchRight"},I.default.createElement(c.default,{className:"success",onClick:this.add},"请假"))),I.default.createElement("div",{className:"patent-table"},I.default.createElement(f.default,{columns:a,dataSource:this.state.dataSource,rowSelection:t,pagination:this.state.pagination,onRow:function(t){return{onClick:function(a){e.tableRowClick(t)}}}}))),I.default.createElement(H.default,{visible:this.state.visible,callbackPass:this.callbackPass,data:this.state.theData}))))}}]),t}(I.default.Component);t.default=K,e.exports=t.default},"7dd1b03a4de8e4d04d19":function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var d=a("429dd059d16dfe6bc957"),n=l(d),s=a("c5a1a13287d8ad4f043e"),f=l(s),u=a("e3812a5bd03d8b46e6ce"),c=l(u),i=a("eac54253659ab20592f0"),r=l(i),o=a("c974ae158fef44ccfedf"),m=l(o),b=a("aff7e8dcc6a4bd162daa"),h=l(b),p=a("2d992fe19e3366652040"),y=l(p),v=a("424a28e84bfcbae33585"),g=l(v),k=a("e0790b6fd5e6e60f472d"),E=l(k),O=a("2b7e55a3b6d12b431ecb"),D=l(O),S=a("f3b07a043f19e27a6aca"),C=l(S),w=a("9be1effb1238979c7746"),I=l(w);a("932a56dcc2009b767c97"),a("1c3040e0ca639c4ad94e"),a("6c5d583c40f088742b62"),a("68ebf5e338c13ef5ba40"),a("4113ac831dd3f5f44ba8"),a("4911b9603972fc5ce1f0"),a("86aab25b66675efcfa27");var N=a("07eff9bc9275f0f3737f"),_=l(N),R=a("63b0817baede16f2bced"),P=l(R),x=a("68dd8c1315cbe355402d"),M=l(x),Y=P.default.nowYmd();t.default=I.default.create()(function(e){function t(e){(0,g.default)(this,t);var a=(0,D.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleOk=function(e){a.setState({visible:!0})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){})},a.handleCancel=function(e){a.setState({visible:!1}),a.props.form.resetFields(),a.props.callbackPass(!1)},a.state={visible:!1,visibleImg:!1,loading:!1,releaseDate:[Y+" 00:00",Y+" 23:59"]},a}return(0,C.default)(t,e),(0,E.default)(t,[{key:"componentWillReceiveProps",value:function(e){!this.props.visible&&e.visible&&("{}"===JSON.stringify(e.data)&&this.props.form.resetFields(),this.setState({visible:e.visible}))}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a={labelCol:{span:6},wrapperCol:{span:14}},l=y.default.TextArea,d=this.props.data||{},s=h.default.RangePicker;return _.default.createElement("div",null,_.default.createElement(n.default,{title:"详情",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,footer:null,width:"500px"},_.default.createElement(I.default,{layout:"horizontal",onSubmit:this.handleSubmit.bind(this)},_.default.createElement(f.default,{tip:"请稍候...",spinning:this.state.loading},_.default.createElement("div",null,_.default.createElement(I.default.Item,(0,r.default)({},a,{label:"类型"}),t("menuId",{rules:[{required:!0,message:"类型"}],initialValue:d.menuId})(_.default.createElement(m.default,{placeholder:"类型"},_.default.createElement(m.default.Option,{value:"1"},"病假"),_.default.createElement(m.default.Option,{value:"2"},"事假"),_.default.createElement(m.default.Option,{value:"3"},"调休")))),_.default.createElement(I.default.Item,(0,r.default)({},a,{label:"时间"}),_.default.createElement(s,{ranges:{"今日":[(0,M.default)().startOf("day"),(0,M.default)().endOf("day")],"最近一周":[(0,M.default)().subtract(6,"days").startOf("day"),(0,M.default)().endOf("day")],"本月":[(0,M.default)().startOf("month"),(0,M.default)().endOf("month")],"上月":[(0,M.default)().subtract(1,"month").startOf("month"),(0,M.default)().subtract(1,"month").endOf("month")],"最近一月":[(0,M.default)().subtract(1,"month").startOf("day"),(0,M.default)().endOf("day")]},showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm",placeholder:["开始时间","结束时间"],value:[this.state.releaseDate[0]?(0,M.default)(this.state.releaseDate[0]):null,this.state.releaseDate[1]?(0,M.default)(this.state.releaseDate[1]):null],onChange:function(t,a){e.setState({releaseDate:a})}})),_.default.createElement(I.default.Item,(0,r.default)({className:"itemCol"},a,{label:"原因"}),t("comment1",{initialValue:d.comment})(_.default.createElement(l,{placeholder:"原因",maxLength:"200"}))),_.default.createElement(I.default.Item,{wrapperCol:{span:12,offset:8}},_.default.createElement(c.default,{type:"primary",htmlType:"submit"},d.menuPk?"修改":"添加"),_.default.createElement(c.default,{onClick:this.handleCancel,type:"danger",style:{marginLeft:20}},"取消")))))))}}]),t}(_.default.Component)),e.exports=t.default}});